<div class="w-100">
    <h1 class="fw-bold mb-5 mt-2">Loan Details</h1>
    <div class="sumary-data d-flex gap-3 w-100 d-flex flex-wrap">
        @for(item of data; track $index){
        <div class="card text-white d-flex flex-row align-items-start p-2 flex-grow-1"
            [style.backgroundColor]="item.color">
            <div class="col-4 card-icon align-center d-flex justify-content-center align-items-center">
                <i [class]="item.icon"></i>
            </div>
            <div class="col-8 d-flex flex-column align-items-end justify-content-center">
                <h5 class="card-title">{{ item.name }}</h5>
                <span class="fw-bold size">{{ item.value }}</span>
            </div>
        </div>
        }
    </div>

    <div class="collapses mt-5 mb-3 d-flex flex-column gap-3" [style.height]="height()">
        <div class="row d-flex align-items-center justify-content-between mt-2">
            <div class="col-11 d-flex align-items-center">
                Edit Principal, Interest Rate, Duration, and Date. Click here ðŸ‘‰
            </div>
            <div class="col-1 d-flex align-items-center justify-content-end">
                <button class="btn btn-edit d-flex align-items-center" type="button"
                    (click)="toggleHeight()">Edit</button>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <label for="">Principal</label>
                <input type="text" id="principal" class="form-control" [(ngModel)]="getPrincial">
            </div>
            <div class="col-6">
                <label for="interest">Interest Rate</label>
                <input type="number" id="interest" class="form-control" [(ngModel)]="getInterestRate">
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <label for="duration">Duration</label>
                <input type="text" id="duration" class="form-control" [(ngModel)]="getDuration">
            </div>
            <div class="col-6">
                <label for="date">Date</label>
                <input type="date" id="date" class="form-control" [(ngModel)]="getDate">
            </div>
        </div>
        <div class="row p-3">
            <button class="btn btn-primary" type="button" (click)="editLoan()">Save</button>
        </div>
    </div>

    <table class="table table-striped table-hover">
        <thead>
            <tr class="tbl-header">
                <th scope="col">No</th>
                <th scope="col">Principal</th>
                <th scope="col">Interest</th>
                <th scope="col">Total</th>
                <th scope="col">Date</th>
            </tr>
        </thead>
        <tbody class="tbl-body">
            @for(item of loan; track $index) {
            <tr>
                <th class="no-bg" scope="row">{{$index + 1}}</th>
                <td class="no-bg">{{item.prin | currency}}</td>
                <td class="no-bg">{{item.inter | currency}}</td>
                <td class="no-bg">{{item.prin + item.inter | currency}}</td>
                <td class="no-bg">{{item.date}}</td>
            </tr>
            }
        </tbody>
    </table>
</div>